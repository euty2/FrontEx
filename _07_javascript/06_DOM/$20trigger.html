<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>트리거 사용하기</title>
</head>
<body>
    <button id="btnTrigger">이벤트 발생</button>
    <button id="btnReceiver">이벤트 수신</button>

    <script>
        const $btnTrigger = document.querySelector('#btnTrigger');
        const $btnReceiver = document.querySelector('#btnReceiver');

        $btnTrigger.addEventListener('click', ()=>{
            const event = new Event('click');
            $btnReceiver.dispatchEvent(event);

            // 정의되지 않은 이벤트를 새로 정의해서 전송
            const human = {
                name: 'Albert',
                age: 24,
                job: 'Developer'
            }
            const customEvent = new CustomEvent('happy', {detail: human});
            $btnReceiver.dispatchEvent(customEvent);
        });

        $btnReceiver.addEventListener('click', ()=>{
            alert('btnReceiver 이벤트 수신!~');
        });

        $btnReceiver.addEventListener('happy', (e)=>{
            const human = e.detail;
            let output = '';
            output += human.name + '\n';
            output += human.age + '\n';
            output += human.job + '\n';
            console.log(output);
        });
    </script>
</body>
</html>